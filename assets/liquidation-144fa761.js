import{d as R,x as U,c as g,z as w,o as H,A as b,l as V,E as n,B as e,D as c,C as A,T as d,U as S,V as I,S as m,aR as F,e as h,aS as W,O as C,F as G,G as J,u as K,X as O,_ as X}from"./index-7e8833e4.js";import{I as j}from"./index-3b86a575.js";import{N as Q}from"./index-91c647e7.js";import{p as Y}from"./home-b5d4a19e.js";const Z="/assets/kline-e2f7f558.svg",ee=x=>(G("data-v-c116bd51"),x=x(),J(),x),te={class:"cexPor-container"},ae={class:"p-15px"},le={class:"card-container flex items-center"},oe={class:"flex flex-col"},ne={class:"flex items-center font-400"},se={class:"text-size-16px font-500 color-#333 mr-6px"},ie={class:"text-size-14px color-#333"},ce=ee(()=>e("span",{style:{flex:"1"}},null,-1)),re=["onClick"],ue={class:"tabs"},de=["onClick"],ve={class:"pl-15px pr-15px pb-50px"},pe={class:"table-container"},fe={class:"inline-flex items-center"},_e={class:"icon-sort-container"},be={class:"inline-flex items-center"},me={class:"icon-sort-container"},he=R({__name:"liquidation",setup(x){const N=new URL("/assets/icon-default-995adb35.png",self.location).href,{t:f}=U(),$=F(),P=K();let q=g(()=>{var l;return((l=k.value.find(t=>t.id===u.value))==null?void 0:l.name)||"ETH"}),z=g(()=>{var l;return((l=k.value.find(t=>t.id===u.value))==null?void 0:l.logo)||"https://www.avestorage.cloud/token_icon/eth/0x2260fac5e5542a773aa44fbcfedf7c193bc2c599.png"}),u=w($.params.symbol||"eth"),k=g(()=>[{name:"ETH",id:"eth",logo:"https://www.avestorage.cloud/token_icon/eth/0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2.png"},{name:"BTC",id:"btc",logo:"https://www.avestorage.cloud/token_icon/eth/0x2260fac5e5542a773aa44fbcfedf7c193bc2c599.png"},{name:"BNB",id:"bnb",logo:"https://www.avestorage.cloud/token_icon/bsc/0xbb4cdb9cbd36b01bd1cbaebf2de08d9173bc095c.png"}]);function L(l){u.value=l,P.replace({name:"Liquidation",params:{symbol:u.value}}),y()}let v=w({price:0,price_change:0,data:{currentPrice:0,topPositions:[]}});function y(){Y(u.value).then(l=>{console.log(l),v.value=l}).finally(()=>{})}let i=w(0),o=w(""),D=g(()=>{var l,t,r,p;return i.value===0||o.value===""?((t=(l=v.value)==null?void 0:l.data)==null?void 0:t.topPositions)||[]:(((p=(r=v.value)==null?void 0:r.data)==null?void 0:p.topPositions)||[]).slice(0).sort((a,s)=>{let _=o.value&&(a!=null&&a[o.value])?a==null?void 0:a[o.value]:0,E=o.value&&(s!=null&&s[o.value])?s==null?void 0:s[o.value]:0;return(Number(_)-Number(E))*i.value})});function B(l){if(o.value!==l){o.value=l,i.value=1;return}i.value++,i.value>1&&(i.value=-1)}function M(){var p,a,s,_;let l={eth:["0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2","eth"],btc:["0x2260fac5e5542a773aa44fbcfedf7c193bc2c599","eth"],bnb:["0xbb4cdb9cbd36b01bd1cbaebf2de08d9173bc095c","bsc"]},t=window,r=l==null?void 0:l[u.value];r&&((p=t==null?void 0:t.WKWebViewJavascriptBridge)!=null&&p.callHandler?O("openMarketPage",...r,u.value.toUpperCase()):(a=window==null?void 0:window._tw_)!=null&&a.openMarketPage&&r&&((_=(s=window._tw_)==null?void 0:s.openMarketPage)==null||_.call(s,...r)))}function T(){y()}return H(()=>{T()}),(l,t)=>{const r=Q,p=j;return h(),b("div",te,[V(r,{title:n(q)+" "+n(f)("liquidationDetail"),"left-text":"",fixed:"",placeholder:"","left-arrow":"",onClickLeft:t[0]||(t[0]=a=>n(W)(n(P))),"safe-area-inset-top":"",class:"header-container"},null,8,["title"]),e("div",ae,[e("div",le,[V(p,{class:"mr-10px w-48px h-48px",round:"","lazy-load":"","show-loading":"",src:n(z),"error-icon":n(N)},null,8,["src","error-icon"]),e("div",oe,[e("div",ne,[e("span",se,c(n(q)),1),e("span",{class:"text-size-14px",style:A({color:v.value.price_change>=0?"var(--upColor)":"var(--downColor)"})},c(v.value.price_change>=0?"+":"")+c(v.value.price_change),5)]),e("div",ie,"â‰ˆ "+c(n(C)(v.value.data.currentPrice)),1)]),ce,e("img",{src:Z,class:"h-25px clickable",alt:"",onClick:d(M,["stop"])},null,8,re)])]),e("div",ue,[(h(!0),b(S,null,I(n(k),(a,s)=>(h(),b("button",{key:s,class:m(["tabs-btn",{active:u.value===a.id}]),onClick:d(_=>L(a.id),["stop"])},c(a.name),11,de))),128))]),e("div",ve,[e("table",pe,[e("tr",null,[e("th",null,c(n(f)("liquidationPlatform")),1),e("th",null,c(n(f)("publicBlockchain")),1),e("th",{onClick:t[3]||(t[3]=d(a=>B("collateralValue"),["stop"]))},[e("div",fe,[e("span",null,c(n(f)("totalVolume")),1),e("div",_e,[e("i",{class:m(["iconfont icon-sort-up",{active:i.value===1&&o.value==="collateralValue"}]),onClick:t[1]||(t[1]=d(a=>{i.value=1,o.value="collateralValue"},["stop"]))},null,2),e("i",{class:m(["iconfont icon-sort-down",{active:i.value===-1&&o.value==="collateralValue"}]),onClick:t[2]||(t[2]=d(a=>{i.value=-1,o.value="collateralValue"},["stop"]))},null,2)])])]),e("th",{onClick:t[6]||(t[6]=d(a=>B("liqPrice"),["stop"]))},[e("div",be,[e("span",null,c(n(f)("liquidationPrice")),1),e("div",me,[e("i",{class:m(["iconfont icon-sort-up",{active:i.value===1&&o.value==="liqPrice"}]),onClick:t[4]||(t[4]=d(a=>{i.value=1,o.value="liqPrice"},["stop"]))},null,2),e("i",{class:m(["iconfont icon-sort-down",{active:i.value===-1&&o.value==="liqPrice"}]),onClick:t[5]||(t[5]=d(a=>{i.value=-1,o.value="liqPrice"},["stop"]))},null,2)])])])]),(h(!0),b(S,null,I(n(D)||[],(a,s)=>(h(),b("tr",{key:s},[e("td",null,c(a.protocol),1),e("td",null,c(a.chain),1),e("td",null,c(n(C)(a.collateralValue,2)),1),e("td",null,c(n(C)(a.liqPrice,2)),1)]))),128))])])])}}});const Ce=X(he,[["__scopeId","data-v-c116bd51"]]);export{Ce as default};
